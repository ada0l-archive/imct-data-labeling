Концепт
=======

# 1. Цель проекта

# 2. Описание системы

Система должна состоять из следующих основных функциональных блоков:

1. Регистрация, аутентификация и авторизация.
2. Функционал проекта.
3. Функционал датасета.
4. Функционал разметки данных.
5. Экспорт данных в JSON.
6. Библиотека авторизации и экспорта данных в Jupyter/Colab (не MVP).

## 2.1. Регистрация, аутентификация и авторизация

Система предполагается для внутреннего использования ИМКТ, поэтому для
регистрации или аутентификации можно использовать Azure AD.

Изначально предполагается доступ к системе только по приглашениям.
Зарегистрироваться или авторизоваться могут только те, кто получил приглашение
по email.

В БД нужно хранить следующие поля о пользователи:
 - email (обязательное, не изменяемое).
 - ФИО (обязательное, не изменяемое).

## 2.2 Функционал проекта

Пользователь после аутентификации (предоставления токена MS) получает доступ
к функциональности проектов. Этот функциональный блок состоит из следующих
блоков:

1. Создание нового проекта.
2. Редактирование доступа к проектам текущего пользователя. ***(Как выдавать
права? Определенной группе пользователей? Инвайтить по почте?)***

В БД нужно хранить следующие поля о проекте:
 - название (обязательное, изменяемое).
 - описание (обязательное, изменяемое).

## 2.3 Функционал датесета

Если пользователь авторизован и у него есть ***необходимые права на конкретный
проекта***, то в внутри проекта он может:

1. Создать датасет.
2. Редактировать описание датасета.
3. Загрузить не размеченные данные (изображения).
4. Экспортировать JSON.

В БД нужно хранить следующие поля о датасете:
 - название (обязательное, изменяемое).
 - описание (обязательное, изменяемое).

## 2.3.4 Экспорт данных в JSON

Необходимо возможность экспорта размеченных данных в примерно таком формате:

```json
{
    "images": [
        {
            "uuid": "...",
            "labels": [
                {
                    "type": "polygon",
                    "x": [1, 2, 3],
                    "y": [1, 2, 3]
                },
                {
                    "type": "rectangle",
                    "x": 30,
                    "y": 40,
                    "width": 100,
                    "height": 100
                }
            ]
        }
    ]
}
```

## 2.4 Функционал разметки данных

Если пользователь авторизован и у него есть ***необходимые права на конкретный
проекта***, то в внутри проекта он может:

1. Разметь данные на изображение в UI. Необходимы следующие инструменты для
выделения: прямоугольник, многоугольник.
2. ***Подтвердить разметку***

В БД нужно хранить следующие поля о изображение:
 - uuid4 (обязательное, не изменяемое).

# 3. Стек технологий

 - Backend
    - Python
    - FastAPI
    - MongoDB
 - Frontend
    - ???

Для хранения изображений можно использовать S3 совместимое хранилище.
